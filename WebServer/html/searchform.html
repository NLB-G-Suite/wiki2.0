
<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<!-- Add jQuery library -->
	<script type="text/javascript" src="./lib/jquery-1.10.1.min.js"></script>

	<!-- Add mousewheel plugin (this is optional) -->
	<script type="text/javascript" src="./lib/jquery.mousewheel-3.0.6.pack.js"></script>

	<!-- Add fancyBox main JS and CSS files -->
	<script type="text/javascript" src="./source/jquery.fancybox.js?v=2.1.5"></script>
	<link rel="stylesheet" type="text/css" href="./source/jquery.fancybox.css?v=2.1.5" media="screen" />


<div class="wrapper" style="
position:fixed;
 left:50%;  
 top:50%">
<div class="srch" id="animate_me" style="
position:relative; 
  left:-50%;
  top:-50%
"
>

	<section class="webdesigntuts-workshop">	    
			<input id="searchBox" placeholder="Explore..." style="
				opacity: .8;
	background: #EEE;
	background: -webkit-linear-gradient(#FFF, #DDD);	
	background: -moz-linear-gradient(#FFF, #DDD);	
	background: -o-linear-gradient(#FFF, #DDD);	
	background: -ms-linear-gradient(#FFF, #DDD);	
	background: linear-gradient(#FFF, #DDD);	
	border-radius: 5px 0 0 5px;
	color: #333;
	display: block;
	float: left;
	font-family: 'Cabin', helvetica, arial, sans-serif;
	font-size: 26px;
	font-weight: 400;
	height: 40px;
	margin: 0;
	padding: 0 0px;
	width: 200px;">		    	
	    	<button id="search" onclick="move();loadData()" style="
	    	opacity: .8;
	background: #888;
	background: -webkit-linear-gradient(#DDD, #CCC);
	background: -moz-linear-gradient(#DDD, #CCC);
	background: -o-linear-gradient(#DDD, #CCC);
	background: -ms-linear-gradient(#DDD, #CCC);
	background: linear-gradient(#DDD, #CCC);
	-webkit-box-sizing: content-box;
	-moz-box-sizing: content-box;
	-o-box-sizing: content-box;
	-ms-box-sizing: content-box;
	box-sizing: content-box;
	border: 1px solid #888;
	border-radius: 0 5px 5px 0;
	color: #222;
	display: block;
	float: left;
	font-family: 'Cabin', helvetica, arial, sans-serif;
	font-size: 26px;
	font-weight: 400;
	height: 39px;
	line-height: 40px;
	margin: 0;
	padding: 0;
	position: relative;
	width: 120px;">Search</button> 
	</section>
</div> 
</div>


	<script type="text/javascript">
		$(document).ready(function() {
			/*
			 *  Simple image gallery. Uses default settings
			 */

			$('.fancybox').fancybox();

			/*
			 *  Different effects
			 */

			// Change title type, overlay closing speed
			$(".fancybox-effects-a").fancybox({
				helpers: {
					title : {
						type : 'outside'
					},
					overlay : {
						speedOut : 0
					}
				}
			});

			// Disable opening and closing animations, change title type
			$(".fancybox-effects-b").fancybox({
				openEffect  : 'none',
				closeEffect	: 'none',

				helpers : {
					title : {
						type : 'over'
					}
				}
			});

			// Set custom style, close if clicked, change title type and overlay color
			$(".fancybox-effects-c").fancybox({
				wrapCSS    : 'fancybox-custom',
				closeClick : true,

				openEffect : 'none',

				helpers : {
					title : {
						type : 'inside'
					},
					overlay : {
						css : {
							'background' : 'rgba(238,238,238,0.85)'
						}
					}
				}
			});

			// Remove padding, set opening and closing animations, close if clicked and disable overlay
			$(".fancybox-effects-d").fancybox({
				padding: 0,

				openEffect : 'elastic',
				openSpeed  : 150,

				closeEffect : 'elastic',
				closeSpeed  : 150,

				closeClick : true,

				helpers : {
					overlay : null
				}
			});

			/*
			 *  Button helper. Disable animations, hide close button, change title type and content
			 */

			$('.fancybox-buttons').fancybox({
				openEffect  : 'none',
				closeEffect : 'none',

				prevEffect : 'none',
				nextEffect : 'none',

				closeBtn  : false,

				helpers : {
					title : {
						type : 'inside'
					},
					buttons	: {}
				},

				afterLoad : function() {
					this.title = 'Image ' + (this.index + 1) + ' of ' + this.group.length + (this.title ? ' - ' + this.title : '');
				}
			});


			/*
			 *  Thumbnail helper. Disable animations, hide close button, arrows and slide to next gallery item if clicked
			 */

			$('.fancybox-thumbs').fancybox({
				prevEffect : 'none',
				nextEffect : 'none',

				closeBtn  : false,
				arrows    : false,
				nextClick : true,

				helpers : {
					thumbs : {
						width  : 50,
						height : 50
					}
				}
			});

			/*
			 *  Media helper. Group items, disable animations, hide arrows, enable media and button helpers.
			*/
			$('.fancybox-media')
				.attr('rel', 'media-gallery')
				.fancybox({
					openEffect : 'none',
					closeEffect : 'none',
					prevEffect : 'none',
					nextEffect : 'none',

					arrows : false,
					helpers : {
						media : {},
						buttons : {}
					}
				});

			/*
			 *  Open manually
			 */

			$("#fancybox-manual-a").click(function() {
				$.fancybox.open('1_b.jpg');
			});

			$("#fancybox-manual-b").click(function() {
				$.fancybox.open({
					href : 'iframe.html',
					type : 'iframe',
					padding : 5
				});
			});

			$("#fancybox-manual-c").click(function() {
				$.fancybox.open([
					{
						href : '1_b.jpg',
						title : 'My title'
					}, {
						href : '2_b.jpg',
						title : '2nd title'
					}, {
						href : '3_b.jpg'
					}
				], {
					helpers : {
						thumbs : {
							width: 75,
							height: 50
						}
					}
				});
			});


		});
	</script>
	   
        <script src="http://www.goat1000.com/tagcanvas.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      window.onload = function() {
        try {
          TagCanvas.Start('myCanvas','tags',{
            textColour: '#ffffff',
            outlineColour: '#3498db',
            reverse: true,
            depth: 0.8,
            maxSpeed: 0.03,
          });
        } catch(e) {
          // something went wrong, hide the canvas container
          document.getElementById('myCanvasContainer').style.display = 'none';
        }
      };
    </script>
	<style type="text/css">
		.fancybox-custom .fancybox-skin {
			box-shadow: 0 0 50px #222;
		}

		body {
			margin: 0 auto;
			background-image:url('background.jpg');
		}
	</style>
</head>
<body>

	  
	    <div id="myCanvasContainer">
      <canvas id="myCanvas" width="1000" height="600" >
        <p>Anything in here will be replaced on browsers that support the canvas element</p>
      </canvas>
    <div id="tags">
    </div>
</div>
<script>

function move(){

$(".srch").animate({
      	bottom:'300'
      }, 'slow')
move=move2;
}

function move2(){}


function makeHttpObject() {
  try {return new XMLHttpRequest();}
  catch (error) {}
  try {return new ActiveXObject("Msxml2.XMLHTTP");}
  catch (error) {}
  try {return new ActiveXObject("Microsoft.XMLHTTP");}
  catch (error) {}

  throw new Error("Could not create HTTP request object.");
}

function loadData()
{

	var request = makeHttpObject();
	
	url = "/query/"+document.getElementById("searchBox").value;
	
	request.open("GET",  url , false);
	request.send(null);
	//alert(request.responseText);
	
	var jsonText = request.responseText;
	var obj = jQuery.parseJSON(jsonText);

	var idx = 0;
	var tagsText ="<ul>";
	for(var i=0;i<obj[idx].articles.length;i++)
	{
		var article = obj[idx].articles[i];
		var name = unescape(article.name);
		name = name.split('_').join(' ');
		tagsText += '<li><a class="fancybox fancybox.iframe fancybox-effects-a"  data-weight=50 style="font-size: 8ex" href="http://'+article.url+'">'+name+'</a>  </li>\n';
	}
	tagsText+= "</ul>";
	//alert(tagsText);
	document.getElementById('tags').innerHTML = tagsText;
	window.onload();
	//alert('done');
	//alert(obj[0].articles[0].url);
}
</script>



	
</body>
</html>